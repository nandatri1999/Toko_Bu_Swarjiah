<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Toko Produk</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');
    :root {
      --primary: #4f46e5;
      --secondary: #6366f1;
      --accent: #10b981;
      --danger: #ef4444;
      --light: #f9fafb;
      --dark: #1f2937;
      --muted: #6b7280;
      --radius: 14px;
      --shadow: 0 6px 20px rgba(0,0,0,0.08);
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: var(--light);
      color: var(--dark);
    }

    header {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: #fff;
      text-align: center;
      padding: 40px 20px;
      border-bottom-left-radius: 50px;
      border-bottom-right-radius: 50px;
      box-shadow: var(--shadow);
    }

    header h1 {
      font-size: 2rem;
      margin: 0;
      font-weight: 700;
    }

    header p {
      margin: 8px 0 0;
      font-weight: 400;
    }

    .container {
      max-width: 1100px;
      margin: 30px auto;
      padding: 0 20px;
    }

    .grid {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 20px;
    }

    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
    }

    .card {
      background: #fff;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      transition: transform 0.2s ease, box-shadow 0.3s ease;
    }

    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 30px rgba(0,0,0,0.12);
    }

    .card img {
      width: 100%;
      height: 200px;
      object-fit: cover;
    }

    .card-content {
      padding: 15px;
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .card-content h3 {
      margin: 0;
      font-size: 1rem;
      color: var(--dark);
    }

    .card-content p {
      color: var(--muted);
      font-size: 0.9rem;
      margin-top: 5px;
      flex-grow: 1;
    }

    .price {
      font-weight: 700;
      color: var(--primary);
      margin-top: 10px;
    }

    .btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      transition: background 0.3s ease;
    }

    .btn:hover { background: var(--secondary); }

    aside {
      background: white;
      padding: 20px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }

    aside h3 {
      margin-top: 0;
      color: var(--dark);
      border-bottom: 2px solid var(--primary);
      padding-bottom: 8px;
    }

    .cart-item {
      display: flex;
      align-items: center;
      margin-bottom: 12px;
      gap: 10px;
    }

    .cart-item img {
      width: 50px;
      height: 70px;
      object-fit: cover;
      border-radius: 8px;
    }

    .cart-item div {
      flex: 1;
      font-size: 0.9rem;
    }

    .total {
      margin-top: 15px;
      padding-top: 10px;
      border-top: 1px solid #eee;
      display: flex;
      justify-content: space-between;
      font-weight: 700;
      color: var(--dark);
    }

    .footer {
      text-align: center;
      font-size: 0.85rem;
      color: var(--muted);
      margin-top: 20px;
    }

    .modal-back {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 99;
    }

    .modal {
      background: white;
      padding: 20px;
      border-radius: var(--radius);
      max-width: 500px;
      width: 90%;
      box-shadow: var(--shadow);
    }

    input, textarea {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ddd;
      margin-top: 5px;
      font-family: inherit;
    }

    @media(max-width:900px){ .grid { grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <header>
    <h1>Toko An-Nisa</h1>
    <p>Pesan produk favoritmu â€” kirim langsung ke WhatsApp penjual ðŸ“¦ðŸ§€</p>
  </header>

  <div class="container">
    <main class="grid">
      <section>
        <div class="cards" id="productList"></div>
      </section>

      <aside>
        <h3>Keranjang Belanja</h3>
        <div id="cartList"></div>
        <div class="total"><span>Total</span> <span id="totalPrice">Rp0</span></div>
        <button id="checkoutBtn" class="btn" style="width:100%;margin-top:10px;">Checkout via WhatsApp</button>
      </aside>
    </main>

    <div class="footer">Semua pesanan otomatis dikirim ke WhatsApp 082377997388</div>
  </div>

  <div id="modal" class="modal-back">
    <div class="modal">
      <h3>Form Pemesanan</h3>
      <label>Nama</label>
      <input id="custName" placeholder="Nama kamu" />
      <label>Nomor WhatsApp</label>
      <input id="custPhone" placeholder="628xxxx" />
      <label>Alamat Pengiriman</label>
      <textarea id="custAddress" rows="3" placeholder="Alamat lengkap"></textarea>
      <button id="openWa" class="btn" style="width:100%;margin-top:10px;">Kirim ke WhatsApp</button>
      <button id="closeModal" class="btn" style="width:100%;background:var(--danger);margin-top:8px;">Batal</button>
    </div>
  </div>

  <script>
    const products = [
      { id:1, title:'Minyak Kita', author:'Minyak Kita', price:17500, cover:'img/minyak kita.jpg' },
      { id:2, title:'Gula', author:'Gunung Madu', price:18500, cover:'img/Gula.jpg' },
      { id:3, title:'So klin', author:'So Klin Liquid', price:12000, cover:'img/so klin.jpg' },
      { id:4, title:'Pipet Pop Ice', author:'Pipet Perpack', price:10000, cover:'img/pipit.jpg' },
      { id:5, title:'Sendok Puding', author:'Sendok Perpack', price:5000, cover:'img/sendok plastik.jpg' },
      { id:6, title:'Sendok Bebel', author:'Sendok Bebek', price:8000, cover:'img/sendok bebel.jpg' },
      { id:7, title:'Ladaku', author:'Merica Bubuk', price:1000, cover:'img/ladaku.jpg' },
      { id:8, title:'Mika', author:'Mika 5 Xc Perpack', price:12000, cover:'img/mika.jpg' },
      { id:9, title:'Mika', author:'Mika 3 Xc Perpack', price:24000, cover:'img/mika sedang.jpg' },
      { id:10, title:'Mika', author:'Mika 7 Xc Perpack', price:8000, cover:'img/mika kecil.jpg' },
      { id:11, title:'Plastik', author:'Plastik 10 X 18 Perpack', price:18000, cover:'img/plastik.jpg' },
      { id:12, title:'Plastik', author:'Plastik 1 Kg Perpack', price:8000, cover:'img/plastik gula.jpg' },
      { id:13, title:'Plastik', author:'Plastik 9 X 15 Perpack', price:10000, cover:'img/plastik besar.jpg' },
      { id:14, title:'Garam', author:'Refina 250g', price:4000, cover:'img/garam.jpg' },
      { id:15, title:'Tusuk Sate', author:'Skewers', price:13000, cover:'img/lidi.jpg' },
      { id:16, title:'So Klin Lantai', author:'So Klin Perbotol', price:10000, cover:'img/so klin botol.jpg' },
      { id:17, title:'Tepung Beras Putih', author:'Rose Brand', price:85000, cover:'img/tepung beras.jpg' },
      { id:18, title:'Mama Lemon', author:'Sabun 680 ml', price:10000, cover:'img/mama lemon.jpg' },
      { id:19, title:'Minyak Goreng', author:'Sunco Per 2 Liter', price:43000, cover:'img/sanco.jpg' },
      { id:20, title:'Tepung Sagu', author:'Tepung /1 Kg', price:11000, cover:'img/tepung.jpg' },
      { id:21, title:'Masako', author:'Ajinomoto Persachet', price:5000, cover:'img/masako.jpg' },
      { id:22, title:'Masako', author:'Ajinomoto Persachet', price:5000, cover:'img/masako ayam.jpg' },
      { id:23, title:'Tepung Gandum', author:'Tepung / 1 Kg', price:85000, cover:'img/tepung besar.jpg' },
      { id:24, title:'Zinc', author:'Shampo Perenteng', price:6000, cover:'img/zinc.jpg' },
      { id:25, title:'Coklat Batang', author:'Sparrow', price:24000, cover:'img/sparrow.jpg' },
      { id:26, title:'Plastik Es', author:'Plastik', price:11000, cover:'img/plastik kecil.jpg' },
      { id:27, title:'Coklat Bubuk', author:'Cap Medali', price:4000, cover:'img/coklat bubuk.jpg' },
      { id:28, title:'Mika', author:'Mika 4 Xc', price:18000, cover:'img/mika besar.jpg' },
      { id:29, title:'Plastik', author:'1/4 Kg', price:8000, cover:'img/asoy.jpg' },
      { id:30, title:'Cup', author:'12 Oz', price:10000, cover:'img/cup.jpg' },
      { id:31, title:'Keju Calf', author:'Cheddar Cheese', price:11000, cover:'img/calf.jpg' },
      { id:32, title:'Teh Cap Botol', author:'Teh', price:4000, cover:'img/teh cap botol.jpg' },
      { id:33, title:'Teh Bendera', author:'Teh', price:4500, cover:'img/teh bendera.jpg' },
      { id:34, title:'Minyak Kayu Putih', author:'Cap Lang / 60 Ml', price:21000, cover:'img/minyak kayu putih.jpg' },
      { id:35, title:'Minyak Telon', author:'My Baby Telon / 60 Ml', price:18000, cover:'img/my baby.jpg' },
      { id:36, title:'Sarden Bantan', author:'Sardines / Kaleng', price:9000, cover:'img/sardin.jpg' },
      { id:37, title:'Sabun', author:'Nuvo', price:4000, cover:'img/nuvo.jpg' },
      { id:38, title:'Soklin Deterjen Bubuk', author:'So Klin', price:5000, cover:'img/so klin intergent.jpg' },
      { id:39, title:'Ciptadent Herbal', author:'Ciptadent', price:20000, cover:'img/ciptaden.jpg' },
      { id:40, title:'Sikat GIgi', author:'Formula', price:4000, cover:'img/formula.jpg' },
      { id:41, title:'Masako Jamur', author:'Masako Persachet', price:1000, cover:'img/masako jamur.jpg' },
      { id:42, title:'Garam Kasar Kecil', author:'Rafflesia', price:3500, cover:'img/rafflesia.jpg' }
    ];

    const rupiah = n => new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR' }).format(n);
    const $ = id => document.getElementById(id);
    let cart = [];

    function renderProducts(){
      const list = $('productList');
      list.innerHTML = products.map(p => `
        <div class='card'>
          <img src='${p.cover}' alt='${p.title}' />
          <div class='card-content'>
            <h3>${p.title}</h3>
            <p>${p.author}</p>
            <div class='price'>${rupiah(p.price)}</div>
            <button class='btn' onclick='addToCart(${p.id})'>Tambah ke Keranjang</button>
          </div>
        </div>`).join('');
    }

    function renderCart(){
      const c = $('cartList');
      if(cart.length===0){ 
        c.innerHTML = '<p style="color:var(--muted);">Belum ada item</p>'; 
        $('totalPrice').textContent = rupiah(0); 
        return; 
      }
      c.innerHTML = cart.map(i => `
        <div class='cart-item'>
          <img src='${i.cover}' alt='${i.title}'/>
          <div>${i.title}</div>
          <div>${rupiah(i.price)}</div>
        </div>`).join('');
      $('totalPrice').textContent = rupiah(cart.reduce((s,i)=>s+i.price,0));
    }

    function addToCart(id){
      const p = products.find(x=>x.id===id);
      if(!cart.some(i=>i.id===id)) cart.push(p);
      renderCart();
    }

    $('checkoutBtn').addEventListener('click',()=>{$('modal').style.display='flex';});
    $('closeModal').addEventListener('click',()=>{$('modal').style.display='none';});

    $('openWa').addEventListener('click',()=>{
      const name=$('custName').value.trim();
      const phone=$('custPhone').value.trim();
      const addr=$('custAddress').value.trim();
      if(!name || !phone || !addr || cart.length === 0){
        alert('Mohon lengkapi data dan pastikan keranjang tidak kosong.');
        return;
      }
      const seller='6282377997388';
      let text=`Assalamualaikum, saya ingin memesan produk:\n`;
      cart.forEach((p,i)=> text += `\n${i+1}. ${p.title} - ${rupiah(p.price)}`);
      const total = cart.reduce((s,i)=>s+i.price,0);
      text += `\n\nTotal: ${rupiah(total)}\nNama: ${name}\nNo: ${phone}\nAlamat: ${addr}`;
      window.open(`https://wa.me/${seller}?text=${encodeURIComponent(text)}`,'_blank');
    });

    renderProducts(); 
    renderCart();
  </script>
</body>
</html>
